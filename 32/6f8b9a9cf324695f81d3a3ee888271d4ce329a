Return-Path: <aaron@tenderlovemaking.com>
X-Spam-Checker-Version: SpamAssassin 3.3.2 (2011-06-06) on dcvr.yhbt.net
X-Spam-Level: 
X-Spam-ASN: AS15169 209.85.128.0/17
X-Spam-Status: No, score=-2.1 required=3.0 tests=AWL,BAYES_00,
 RCVD_IN_DNSWL_BLOCKED,URIBL_BLOCKED shortcircuit=no autolearn=unavailable
 version=3.3.2
X-Original-To: unicorn-public@bogomips.org
Received: from mail-pf0-f177.google.com (mail-pf0-f177.google.com
 [209.85.192.177]) (using TLSv1.2 with cipher ECDHE-RSA-AES128-GCM-SHA256
 (128/128 bits)) (No client certificate requested) by dcvr.yhbt.net (Postfix)
 with ESMTPS id 160EB2021D for <unicorn-public@bogomips.org>; Fri,  8 Jan 2016
 23:19:14 +0000 (UTC)
Received: by mail-pf0-f177.google.com with SMTP id e65so15969473pfe.0 for
 <unicorn-public@bogomips.org>; Fri, 08 Jan 2016 15:19:14 -0800 (PST)
DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed;
 d=tenderlovemaking-com.20150623.gappssmtp.com; s=20150623;
 h=sender:date:from:to:cc:subject:message-id:references:mime-version
 :content-type:content-disposition:in-reply-to:user-agent;
 bh=7xxVMsDA80TfxOXnRJKCJmhsM1pMO0vf2uf4+Uy6gSc=;
 b=sQ2tgx7ckh69YexoUBxk7TYh0Z6gZlea2Ow+Z/QxXrEg0WSkHUePxn+08ReO6PMTne
 LHVXcOGR3EFi90lVJMX967RdicQ4JoQsdRVsyJXsyQ5ljkIhbvbYDVmTzSsDKr34dpWN
 Mi9DSWtR80+/FsrfQ5ratBNYLdEy3RSkB41jaLcc+m2c+3If8TUbHYG7IVj7OfJf8Q1C
 2dX/q+X/2ZggaI5fK2gMBoogh9EsS+hrqKEy/C9S1WdZ9gew65Igp4PTlMXTKB0icpq8
 mdECDO/1W2CXAGMDzAPlrZXVI+XMhPItFbo7e+A4oRUqhiU3zBtj+YeJCDEMg92hhOM5 UbSg==
X-Google-DKIM-Signature: v=1; a=rsa-sha256; c=relaxed/relaxed; d=1e100.net;
 s=20130820; h=x-gm-message-state:sender:date:from:to:cc:subject:message-id
 :references:mime-version:content-type:content-disposition
 :in-reply-to:user-agent; bh=7xxVMsDA80TfxOXnRJKCJmhsM1pMO0vf2uf4+Uy6gSc=;
 b=LwfGnugQ7TGiEGy1gtZpB0llKASbTepm5d/ZSTyVy7P6opeH7DuQw9RiBgBFsVQ0xy
 on1ZmQc9jofMxH81h4FXc6dyV7F9LvzApcZLYnJUY5+VDmoy0BQ4kn5mJB3XGWd5DnqY
 3v+JjZdG7fOViTV5dCYVIsK/bYTS82PfcpV1wlqHWUyRcZvGhGI7ExnpIQM5oCCJvmL6
 eAz2YgYtL30I7vo2CfR6H1Sg9z/isC6g/AjTe2grjpczWgPF4nKFwZFHQwQfg9lX7y1F
 rzTo3TZiDsQvSMQctsnogHNzNUzgX1ukxpDjndXd+ZngYOeTIFk07zAXh5X6Y9U6H8db Y97A==
X-Gm-Message-State:
 ALoCoQmCxps0Abgt58SCa7c/kW6JvgPpvTtXehdLlk0iqf0ABDk/PkPBBDFy0X10QxNYwrgfjVvx69r4XhY12nwtiLtsK0ahRw==
X-Received: by 10.98.71.211 with SMTP id p80mr8016513pfi.135.1452295153531;
 Fri, 08 Jan 2016 15:19:13 -0800 (PST)
Received: from TC.local (c-24-56-229-227.customer.broadstripe.net.
 [24.56.229.227]) by smtp.gmail.com with ESMTPSA id
 xr8sm169486016pab.26.2016.01.08.15.19.12 (version=TLS1_2
 cipher=ECDHE-RSA-AES128-GCM-SHA256 bits=128/128); Fri, 08 Jan 2016 15:19:12
 -0800 (PST)
Sender: Aaron Patterson <aaron@tenderlovemaking.com>
Date: Fri, 8 Jan 2016 15:19:10 -0800
From: Aaron Patterson <tenderlove@ruby-lang.org>
To: rack-devel@googlegroups.com
Cc: Aaron Patterson <tenderlove@ruby-lang.org>, Adam Duke
 <adamduke@twitter.com>, unicorn-public@bogomips.org
Subject: Re: [PATCH] limit rack version for ruby compatibility
Message-ID: <20160108231910.GA42107@TC.local>
References:
 <CACj6Wog0=R6Wsh1U5SFE6r1BdWBr4Loe+GM6UKdObSALwAj9JQ@mail.gmail.com>
 <20160108191807.GA30703@dcvr.yhbt.net> <20160108215046.GA36373@TC.local>
 <20160108223732.GA28771@dcvr.yhbt.net>
MIME-Version: 1.0
Content-Type: multipart/signed; boundary="jRHKVT23PllUwdXP"; micalg="pgp-sha1"; protocol="application/pgp-signature"
Content-Disposition: inline
In-Reply-To: <20160108223732.GA28771@dcvr.yhbt.net>
User-Agent: Mutt/1.5.23 (2014-03-12)
List-Id: <unicorn-public@bogomips.org>


--jRHKVT23PllUwdXP
Content-Type: text/plain; charset=us-ascii
Content-Disposition: inline
Content-Transfer-Encoding: quoted-printable

On Fri, Jan 08, 2016 at 10:37:32PM +0000, Eric Wong wrote:
> Aaron Patterson <tenderlove@ruby-lang.org> wrote:
> > The main reason I bumped it up to Ruby 2.2.x is because that will be the
> > minimum version of Ruby I'll be stuck with throughout Rack 2.x's
> > lifetime.  IOW, I can't drop Ruby versions in anything but a major
> > release so I'm being conservative and only going with the latest (at the
> > time that was 2.2).
> >=20
> > I could be convinced to bring down the version number, but I'd like to
> > know why first. :)
>=20
> Because other people are _always_ slow to upgrade :)

Yes, exactly. I am betting that by the time people upgrade to Rack 2.0,
Ruby 2.2.2 will be old hat (Ruby 2.3 has been released already!)  ;)

> However, I suppose it's fine to bring the requirement up with a
> major version bump of Rack.  I don't want to burden you with
> old cruft, either.
>=20
> unicorn may also be able to drop the dependency on rack by
> lazy loading:
>=20
> * Rack::Utils::HTTP_STATUS_CODES is the main thing we use from
>   Rack at runtime; and unicorn would actually function fine if
>   the hash were empty; HTTP status lines would just be short
>   and non-descriptive.
>=20
> * The Rack::Builder dependency can be optional, even.
>=20
> Fwiw, I plan to support Rack 1.x and Ruby 1.9.3 under unicorn for a few
> more years because of LTS distros.  New versions take priority, of
> course.

Ok.  Let me know if there's anything I can do to help.  Removing the
strict requirement from the gemspec *is* on the table, as long as we
document the supported versions in the README.  I don't plan on using
anything that would be specific to Ruby 2.2.2 and up, but I don't want
to be burdened by older ones either.  A simple comment in the README
would suffice.

--=20
Aaron Patterson
http://tenderlovemaking.com/


--jRHKVT23PllUwdXP
Content-Type: application/pgp-signature

-----BEGIN PGP SIGNATURE-----

iQEcBAEBAgAGBQJWkEPuAAoJEJUxcLy0/6/GSAMH/213gBYMIZPgvLASlcdE7y/E
UJUQ9mqJqISWgNyob2eAHTYg/rqlcPE+17lOovfdc7NR+WC26oQuHtgr5SheqZ3W
+BUG6Oy+MfwqQyk5fREkWP3adZftGoGgqbggmCqTwF2Zg8BxIb8s36o5b9p3B+7L
Hq0e8AH8YyCDsTT34dfYRNOy+UMb2ReY/QgeXbl2jMTdFQgCK7antjbU/bc2OEv0
/jd27IkIbOpW1/WW8U0GKF28zvmAv+5ZlC5fFyJ8v/H1o9p1HQtRQVKii4YyRWTy
pAbwRE8F+HzlcGDwUrhqVPIcmQB5maVQ3HrlvJnG0eHotwwZ3tXYrXbYVoAO1vw=
=OmvZ
-----END PGP SIGNATURE-----


--jRHKVT23PllUwdXP--
